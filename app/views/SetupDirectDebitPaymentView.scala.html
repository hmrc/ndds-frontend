@*
 * Copyright 2025 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import _root_.models.NormalMode
@import views.html.components._
@import views.helpers.DirectDebitCountBackLink

@this(
    header1: Header1,
    paragraph: Paragraph,
    layout: templates.Layout,
    govukButton: GovukButton,
    bulletList: BulletListLinks,
    govukDetails: GovukDetails,
)

@(directDebitCount: Int, call: Call)(implicit request: Request[_], messages: Messages)

@layout(
    pageTitle = titleNoForm(messages("setupDirectDebitPayment.title")),
    backLink = DirectDebitCountBackLink.link(directDebitCount, call),
    showBackLink = DirectDebitCountBackLink.show(directDebitCount)
) {

    @header1("setupDirectDebitPayment.heading")

    @paragraph("setUpDirectDebitPayment.p1")

    @paragraph("setUpDirectDebitPayment.p2")

    @paragraph("setUpDirectDebitPayment.p3")

    @defining(HtmlFormat.fill(Seq(
            paragraph("directDebitMoreInfo.p1"),
            paragraph("directDebitMoreInfo.p2"),
            paragraph("directDebitMoreInfo.p3"),
        bulletList(
          items = Seq(
            "directDebitMoreInfo.bullet.l1" -> Some(routes.SetupDirectDebitPaymentController.onPageLoad()),
            "directDebitMoreInfo.bullet.l2" -> Some(routes.SetupDirectDebitPaymentController.onPageLoad()),
            "directDebitMoreInfo.bullet.l3" -> Some(routes.SetupDirectDebitPaymentController.onPageLoad()),
            "directDebitMoreInfo.bullet.l4" -> Some(routes.SetupDirectDebitPaymentController.onPageLoad())
          )
        )
        ))) { ddMoreInfoContent =>

        @govukDetails(
            Details(
                id = Some("dd-more-info"),
                summary = messages("directDebitMoreInfo.collapsable"),
                content = HtmlContent(ddMoreInfoContent)
            )
        )
    }

    @govukButton(Button(
        href = Some(routes.PersonalOrBusinessAccountController.onPageLoad(NormalMode).url),
        isStartButton = true,
        content = Text(messages("setupDirectDebitPayment.startNow")),
        attributes = Map("id" -> "start-button")
    ))
}
